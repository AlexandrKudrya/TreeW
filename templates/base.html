{% extends "main.html" %}

{% block content %}
<div class="text-center">
    <h1 style="color:gold">Топ 10 Игроков</h1>
</div>
<table class="table table-dark table-hover" style="width:100%;color:gold">
  <thead>
    <tr>
      <th scope="col">Имя Пользователя</th>
      <th scope="col">Количество очков</th>
    </tr>
  </thead>
  <tbody>
    {% for user in raiting %}
        <tr>
          <th scope="row">{{ user.name }}</th>
          <td>{{ user.points }}</td>
        </tr>
    {% endfor %}
  </tbody>
</table>
<div class="text-center">
    <h1 style="color:gold">Открытые игры</h1>
</div>
<table class="table table-dark table-hover" style="width:100%;color:gold">
  <thead>
    <tr>
      <th scope="col">№</th>
      <th scope="col">Название</th>
        <th scope="col">Перейти</th>
    </tr>
  </thead>
  <tbody>
    {% for game in arr_of_opened_games %}
        <tr>
          <th scope="row">{{ game.id }}</th>
          <td>{{ game.title }}</td>
            <td><button onclick="redirectGame({{ game.key }})" style="text-align:center;
                                                                      border: 2px solid gold;
                                                                      width: 100%;
                                                                      background: transparent;
                                                                      color: gold;
                                                                      outline:none;">Войти в игру</button></td>
        </tr>
    {% endfor %}
  </tbody>
</table>
<script>
    function redirectGame(key) {
        document.cookie = "game_key=" + key;
        document.location.href = 'http://127.0.0.1:8080/newgame';
    }
</script>
{% endblock %}